# 历史版本

## 历史版本目录

| 发行版本 | 发行日期            | 下载                                                   | 在线地址                                                | 更新说明                                |
| -------- | ------------------- | ------------------------------------------------------ | ------------------------------------------------------- | --------------------------------------- |
| V4.1     | 2025 年 10 月 20 日 | [TGApp_v4.1.zip](./download/tgapp4/tgapp_v4.1.zip)     | `https://www.tuguan.net/public/tgapp4.1/TGApp.min.js`   | [4.1 版本更新说明](#41-版本更新说明)    |
| V4.0.1   | 2025 年 7 月 18 日  | [TGApp_v4.0.1.zip](./download/tgapp4/tgapp_v4.0.1.zip) | `https://www.tuguan.net/public/tgapp4.0.1/TGApp.min.js` | [4.0.1 版本更新说明](#401-版本更新说明) |
| V4.0     | 2025 年 4 月 10 日  | [TGApp_v4.0.zip](./download/tgapp4/tgapp_v4.0.zip)     | `https://www.tuguan.net/public/tgapp4.0/TGApp.min.js`   | [4.0 版本更新说明](#40-版本更新说明)    |

## 4.1 版本更新说明

### 新增功能和改进

1. 流渲染，聚焦图层，增加 添加抽稀地标图 addSubLandmarkLayer、更新抽稀地标图 样式 updateSubLandmarkLayerStyle 接口。
2. 流渲染，聚焦图层，增加 开始抽稀地标图对象聚焦 onFocusSubLandmarkLayerStart、结束抽稀地标图对象聚焦 onFocusSubLandmarkLayerEnd、开始抽稀地标图子对象聚焦 onFocusSubLandmarkLayerObjStart、结束抽稀地标图子对象聚焦 onFocusSubLandmarkLayerObjEnd、鼠标悬停抽稀地标图对象 onSubLandmarkLayerHover、鼠标离开抽稀地标图对象 onSubLandmarkLayerUnhover、左键点击抽稀地标图对象 onSubLandmarkLayerClick 事件。

## 4.0.1 版本更新说明

### 新增功能和改进

1. 添加模型型号地标图 addIconModelLandmarkLayer、更新模型型号地标图数据 updateIconModelLandmarkLayerCoord，接口为 data 增加 label2 属性。
2. 添加模型型号轨迹图 addIconModelTrailLayer、更新模型型号轨迹图数据 updateIconModelTrailLayerCoord，接口为 data 增加 label2 属性。
3. 增加设置图层中的模型关节数据 setModelArticulationByLayer 接口。
4. 增加播放图层中的模型动画 playModelAnimationByLayer 接口。
5. 添加四棱锥体 addPyramidSensor、更新四棱锥体数据 updatePyramidSensorCoord 接口，修改 length 属性含义。
6. 添加圆锥体 addConeSensor、更新圆锥体数据 updateConeSensorCoord 接口，修改 length 属性含义。
7. 添加四棱锥体 addPyramidSensor、更新四棱锥体样式 updatePyramidSensorStyle 接口，增加 label, label2, labelColor, labelScale, labelOffset, labelBackgroundColor, iconScale, iconName, visibleMaxDistance, modelVisibleRange, labelVisibleRange, iconVisibleRange 属性。
8. 添加圆锥体 addConeSensor、更新圆锥体样式 updateConeSensorStyle 接口，增加 label, label2, labelColor, labelScale, labelOffset, labelBackgroundColor, iconScale, iconName, visibleMaxDistance, modelVisibleRange, labelVisibleRange, iconVisibleRange 属性。
9. 添加区域 addArea、更新区域样式 updateAreaStyle 接口，增加 label, label2, labelColor, labelScale, labelOffset, labelBackgroundColor, iconScale, iconName, visibleMaxDistance, modelVisibleRange, labelVisibleRange, iconVisibleRange 属性。
10. 增加获取模型子节点 getModelSubNode 接口。
11. 添加关系线 addConnection、更新关系线数据 updateConnection 接口，增加 startIdNode 和 endIdNode 属性，修改 startOffset 和 endOffset 的注释。
12. 添加路径 addPath、更新路径样式 updatePathStyle 接口，增加 label, label2, labelColor, labelScale, labelOffset, labelBackgroundColor 属性。
13. 模型跟随镜头 followingCamera 接口，增加 focusType、viewPoint、pointOffset 属性。
14. 聚焦图层 focusById 接口，增加 pointOffset 属性。
15. 聚焦模型 focusModel 接口，增加 focusType、viewPoint、pointOffset 属性。
16. 添加热力图 addHeatMapLayer 接口，增加 clipBounds 属性。
17. 端渲染，图形，新增四棱锥体，包括添加四棱锥体 addPyramidSensor、更新四棱锥体数据 updatePyramidSensorCoord、更新四棱锥体样式 updatePyramidSensorStyle 接口。
18. 端渲染，图形，新增圆锥体，包括添加圆锥体 addConeSensor、更新圆锥体数据 updateConeSensorCoord、更新圆锥体样式 updateConeSensorStyle 接口。
19. 流渲染，设置模型基础变换 2 setModelTransform2 接口，修改 rotationX, rotationY, rotationZ 的属性含义和注释。
20. 流渲染，增加设置消批计时状态 setObjCountdown 接口。
21. 端渲染，模型，连接 数据服务器，新增 connectDataServer 接口、断开 数据服务器 链接，新增 disconnectDataServer 接口。
22. 端渲染，添加模型，addModel 接口，新增 modelSource 属性。
23. 端渲染，添加模型轨迹图，addModelTrailLayer 接口，新增 modelSource 属性、更新模型轨迹图 样式，updateModelTrailLayerStyle 接口，新增 modelSource 属性。
24. 端渲染，添加模型地标图，addModelLandmarkLayer 接口，新增 modelSource 属性、更新模型地标图 样式，updateModelLandmarkLayerStyle 接口，新增 modelSource 属性。
25. 端渲染，获取模型类别，getModelType 接口，返回值新增 modelTypeLocalFile、modelTypeLocalServer 属性，修改了 modelType 注释。
26. 流渲染，添加模型型号轨迹图，为 addIconModelTrailLayer 接口，新增 tleData 属性、更新模型型号轨迹图数据，updateIconModelTrailLayerCoord 接口，新增 tleData 属性。
27. 流渲染，添加模型轨迹图，addModelTrailLayer 接口，新增 tleData 属性、更新模型轨迹图数据，updateModelTrailLayerCoord 接口，新增 tleData 属性。
28. 流渲染，移除 flyToScene 接口。

## 4.0 版本更新说明

首次发布

[返回历史版本目录](#历史版本目录)

---

此文档最后更新日期：2025 年 7 月 18 日
