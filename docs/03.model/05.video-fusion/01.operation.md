# 视频融合对象操作

## 目录

- [1.获取视频融合对象列表](#1获取视频融合对象列表)
- [2.更新视频融合对象地址](#2更新视频融合对象地址)
- [3.聚焦视频融合对象](#3聚焦视频融合对象)

## 1.获取视频融合对象列表

### 功能描述

获取视频融合对象列表

### 调用方法

```js
let jsonData = {};

appInstance.uniCall('getVideoFusionList', jsonData, (result) => {
  console.log(result);
});
```

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "data": [
    {
      "id": "objId1",
      "coord": [114.560257, 37.09079],
      "coordZ": 10,
      "rotation": [20, 80, 90],
      "videoType": "local",
      "url": "https://xxx.xxx.xxx/xxx",
      "visible": true
    },
    {
      "id": "objId2",
      "coord": [114.560257, 37.09079],
      "coordZ": 10,
      "rotation": [20, 80, 90],
      "videoType": "local",
      "url": "https://xxx.xxx.xxx/xxx",
      "visible": true
    }
  ]
}
```

#### 回调数据参数描述

| 属性              | 类型    | 说明                                                                                                                                           |
| ----------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| result            | Number  | 1：代表成功；0：代表失败                                                                                                                       |
| message           | String  | 成功或者失败原因                                                                                                                               |
| data[0].id        | String  | 视频对象 id，唯一标识，用于各种操作的对象识别                                                                                                  |
| data[0].coord     | Array   | XY 轴坐标，X：经度；Y：纬度                                                                                                                    |
| data[0].coordZ    | Number  | Z 轴高度（单位：米）                                                                                                                           |
| data[0].rotation  | Array   | XYZ 三轴旋转度数 [偏航角（单位：角度，0 正北, -360 ~ 360）, 俯仰角（单位：角度，0 水平, -360 ~ 360）,翻滚角（单位：角度，0 水平, -360 ~ 360）] |
| data[0].videoType | String  | 视频源类别，"local"：场景内视频，"online"：在线视频                                                                                            |
| data[0].url       | String  | 视频地址                                                                                                                                       |
| data[0].visible   | Boolean | 当前模型是显示还是隐藏                                                                                                                         |

[返回本章目录](#目录)

## 2.更新视频融合对象地址

### 功能描述

更新视频融合对象地址

### 调用方法

```js
let jsonData = {
     data: [
        {
            id: "objId1"
            url: "https://xxx.xxx.xxx/xxx",
        },
        {
            id: "objId2"
            url: "https://xxx.xxx.xxx/xxx",
        }
    ]
}

appInstance.uniCall('updateVideoFusionData', jsonData, function (result) {
  console.log(result);
});
```

### 参数描述

| 属性        | 类型   | 说明                                          |
| ----------- | ------ | --------------------------------------------- |
| data[0].id  | Number | 视频对象 id，唯一标识，用于各种操作的对象识别 |
| data[0].url | Number | 视频地址                                      |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 3.聚焦视频融合对象

### 功能描述

聚焦视频融合对象

### 调用方法

```js
let jsonData = {
     id: "objId1"
     duration: 1,
     pitch: 30,
     heading: 0,
     distance: 100,
}

appInstance.uniCall('focusVideoFusionObject', jsonData, function (result) {
  console.log(result);
});
```

### 参数描述

| 属性     | 类型   | 说明                                                                    |
| -------- | ------ | ----------------------------------------------------------------------- |
| id       | String | 视频对象 id，唯一标识，用于各种操作的对象识别                           |
| duration | Number | 从上一位置移动到这个新位置花费的时间长度（单位，秒）                    |
| pitch    | Number | 聚焦后摄像机的默认镜头俯仰角(-89~89)，如果无则是默认角度                |
| heading  | Number | 聚焦镜头后的偏航角(0 正北, 0~359)                                       |
| distance | Number | 聚焦后摄像机的默认镜头距对象距离(单位:米)，如果无则根据对象大小自动计算 |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)
