# 模型控制事件

## 目录

- [1.开始模型对象聚焦](#1开始模型对象聚焦)
- [2.结束模型对象聚焦](#2结束模型对象聚焦)
- [3.开始模型全部对象聚焦](#3开始模型全部对象聚焦)
- [4.结束模型全部对象聚焦](#4结束模型全部对象聚焦)
- [5.鼠标悬停模型对象](#5鼠标悬停模型对象)
- [6.鼠标离开模型对象](#6鼠标离开模型对象)
- [7.左键点击模型对象](#7左键点击模型对象)
- [8.左键双击模型对象](#8左键双击模型对象-端)
- [9.鼠标悬停关系线对象](#9鼠标悬停关系线对象)
- [10.鼠标离开关系线对象](#10鼠标离开关系线对象)
- [11.左键点击关系线对象](#11左键点击关系线对象)
- [12.矩形框选模型结果](#12矩形框选模型结果)
- [13.圆形框选模型结果](#13圆形框选模型结果)
- [14.多边形框选模型结果](#14多边形框选模型结果)
- [15.点击模型结果](#15点击模型结果)
- [16.点击模型类别结果](#16点击模型类别结果)

## 1.开始模型对象聚焦

### 功能描述

开始模型对象聚焦

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onFocusModelStart',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "objId"
}
```

#### 回调数据参数描述

| 属性 | 类型   | 说明    |
| ---- | ------ | ------- |
| id   | String | 模型 id |

[返回本章目录](#目录)

## 2.结束模型对象聚焦

### 功能描述

结束模型对象聚焦

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onFocusModelEnd',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "objId"
}
```

#### 回调数据参数描述

| 属性 | 类型   | 说明    |
| ---- | ------ | ------- |
| id   | String | 模型 id |

[返回本章目录](#目录)

## 3.开始模型全部对象聚焦

### 功能描述

开始模型全部对象聚焦

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onFocusAllModelStart',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 4.结束模型全部对象聚焦

### 功能描述

结束模型全部对象聚焦

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onFocusAllModelEnd',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 5.鼠标悬停模型对象

### 功能描述

鼠标悬停模型对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onModelHover',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "objId"
}
```

#### 回调数据参数描述

| 属性 | 类型   | 说明    |
| ---- | ------ | ------- |
| id   | String | 模型 id |

[返回本章目录](#目录)

## 6.鼠标离开模型对象

### 功能描述

鼠标离开模型对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onModelUnhover',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "objId"
}
```

#### 回调数据参数描述

| 属性 | 类型   | 说明    |
| ---- | ------ | ------- |
| id   | String | 模型 id |

[返回本章目录](#目录)

## 7.左键点击模型对象

### 功能描述

左键点击模型对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onModelClick',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "objId",
  "nodeId":"nodeId",
  "selected": false,
  "meta": ["data1", "data2", "data3"]
}
```

#### 回调数据参数描述

| 属性     | 类型    | 说明                                                                                    |端渲染|流渲染|
| -------- | ------- | --------------------------------------------------------------------------------------- |--------- |-------- |
| id       | String  | 模型 id                                                                                 |支持|支持|
| nodeId       | String  | 当前选中的节点Id                                                                            |支持|不支持|
| selected | Boolean | 选中状态                                                                                |支持|支持|
| meta     | Array   | 当前选中模型的元数据，可以表示模型的业务 ID，或者属性描述，需要在编辑器制作模型期间存入 |不涉及|支持|

[返回本章目录](#目录)
## 8.左键双击模型对象 <span style="width: 40px;height: 21px;display:inline-block;background: #1177e3;margin-left: 5px;font-size: 12px;line-height: 28px;"><span style="width: 100%;height: 100%;background: url(./img/duan.png) no-repeat 4px 5px;background-size: 11px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 21px;display:inline-block;vertical-align: top;">端</span></span>

### 功能描述

左键双击模型对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onModelDblClick',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "objId",
  "selected": false,
  "meta": ["data1", "data2", "data3"]
}
```

#### 回调数据参数描述

| 属性     | 类型    | 说明                                                                                    |
| -------- | ------- | --------------------------------------------------------------------------------------- |
| id       | String  | 模型 id                                                                                 |
| selected | Boolean | 选中状态                                                                                |
| meta     | Array   | 当前选中模型的元数据，可以表示模型的业务 ID，或者属性描述，需要在编辑器制作模型期间存入 |

[返回本章目录](#目录)

## 9.鼠标悬停关系线对象

### 功能描述

鼠标悬停关系线对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onConnectionHover',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "connectionId"
}
```

#### 回调数据参数描述

| 属性 | 类型   | 说明    |
| ---- | ------ | ------- |
| id   | String | 关系线对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |

[返回本章目录](#目录)

## 10.鼠标离开关系线对象

### 功能描述

鼠标离开关系线对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onConnectionUnhover',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "connectionId"
}
```

#### 回调数据参数描述

| 属性 | 类型   | 说明    |
| ---- | ------ | ------- |
| id   | String | 关系线对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |

[返回本章目录](#目录)

## 11.左键点击关系线对象

### 功能描述

左键点击关系线对象

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onConnectionClick',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "id": "connectionId",
  "selected": false,
  "overlayType": "model",
  "idLayer": "layerId",
  "startIdObj":"objId1",
  "endIdObj":"objId2"
}
```

#### 回调数据参数描述

| 属性     | 类型    | 说明                                                                                    |
| -------- | ------- | --------------------------------------------------------------------------------------- |
| id       | String  | 关系线对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                                                 |
| selected | Boolean | 选中状态                                                                                |
| overlayType     | String   | 目前支持的overlayType："model", "building", "modelTrailLayer"，“modelLandmarkLayer“，“trailLayer“，"landmarkLayer", "landmark" |
| idLayer     | String   | 如果是图层对象的，需要在这里填写图层对象 |
| startIdObj     | String   | 关系线开始的对象ID |
| endIdObj     | String   | 关系线结束的对象ID |

[返回本章目录](#目录)

## 12.矩形框选模型结果

### 功能描述

矩形框选模型结果

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onRectModelSelectionResult',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "type": "model",
  "data": [
    {
      "id": "objId1"
    },
    {
      "id": "objId2"
    }
  ]
}
```

#### 回调数据参数描述

| 属性       | 类型   | 说明     |
| ---------- | ------ | -------- |
| type       | String | 模型类型 |
| data       | Array  | 模型集合 |
| data[0].id | String | 模型 ID  |

[返回本章目录](#目录)

## 13.圆形框选模型结果

### 功能描述

圆形框选模型结果

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCircleModelSelectionResult',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "type": "model",
  "data": [
    {
      "id": "objId1"
    },
    {
      "id": "objId2"
    }
  ]
}
```

#### 回调数据参数描述

| 属性       | 类型   | 说明     |
| ---------- | ------ | -------- |
| type       | String | 模型类型 |
| data       | Array  | 模型集合 |
| data[0].id | String | 模型 ID  |

[返回本章目录](#目录)

## 14.多边形框选模型结果

### 功能描述

多边形框选模型结果

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onPolygonModelSelectionResult',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "type": "model",
  "data": [
    {
      "id": "objId1"
    },
    {
      "id": "objId2"
    }
  ]
}
```

#### 回调数据参数描述

| 属性       | 类型   | 说明     |
| ---------- | ------ | -------- |
| type       | String | 模型类型 |
| data       | Array  | 模型集合 |
| data[0].id | String | 模型 ID  |

[返回本章目录](#目录)

## 15.点击模型结果

### 功能描述

点击模型结果

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onClickModelResult',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "type": "model",
  "nodeId":"nodeId",
  "id": "objId1",
  "selected": true
}
```

#### 回调数据参数描述

| 属性     | 类型    | 说明     |端渲染|流渲染|
| -------- | ------- | -------- |-------- |------- |
| type     | String  | 模型类型 |支持|支持|
| nodeId     | String  | 当前选中的节点Id |支持|不支持|
| id       | String  | 模型 ID  |支持|支持|
| selected | Boolean | 选择状态 |支持|支持|

[返回本章目录](#目录)

## 16.点击模型类别结果

### 功能描述

点击模型类别结果

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onClickModelTypeResult',
    callback: function(event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "type": "model",
  "selected": true,
  "data": [
    {
      "id": "objId1"
    },
    {
      "id": "objId2"
    }
  ]
}
```

#### 回调数据参数描述

| 属性       | 类型    | 说明     |
| ---------- | ------- | -------- |
| type       | String  | 模型类型 |
| selected   | Boolean | 选择状态 |
| data       | Array   | 模型集合 |
| data[0].id | String  | 模型 ID  |

[返回本章目录](#目录)
