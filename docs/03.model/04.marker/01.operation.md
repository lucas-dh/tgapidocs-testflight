# 特效操作

## 目录

- [1.添加特效](#1添加特效)
- [2.更新特效数据](#2更新特效数据)
- [3.更新特效样式](#3更新特效样式)
- [4.删除特效](#4删除特效)

## 1.添加特效

### 功能描述

在三维场景中添加特效

### 调用方法

```js
let jsonData = {
  id: '3DMarker',
  coordType: 0,
  coordTypeZ: 0,
  alpha: 1,
  scale: 20,
  type: 'Spread06',
  titleText: '特效06',
  titleColor: '#ffffff',
  titleScale: 1,
  titleBackgroundColor: '#333333',
  tag: 'custominfo',
  coord: [113.92338958000916, 22.507616105668163], //以深圳湾经纬度为例
  coordZ: 100,
  visible: true,
};

appInstance.uniCall('add3DMarker', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性                 | 类型     | 说明                                                                                                                          |
| -------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------- |
| id                   | String   | 模型特效 ID(唯一标识)                                                                                                         |
| coordType            | Number   | xy 轴坐标模式 坐标类型(0:x 经度 y 纬度；1:x 米 y 米，相对世界 00 点) 目前该属性仅支持属性值为 0                               |
| coordTypeZ           | Number   | z 轴坐标模式 坐标高度类型，单位：米(0:相对 3D 世界 0 海拔；1:相对 3D 世界地表；2:相对 3D 模型表面) 目前该属性仅支持属性值为 0 |
| alpha                | Number   | 透明度                                                                                                                        |
| scale                | Number   | 半径(单位:米)                                                                                                                 |
| type                 | String   | 样式类型（具体类型参考下图 type 枚举值）                                                                                      |
| titleText            | String   | 文本标签内容，billboard                                                                                                       |
| titleColor           | String   | 特效标签文本颜色，可选值，默认白色                                                                                            |
| titleScale           | Number   | 特效标签文本大小，默认值是1表示原大，0 - 1：表示缩小倍率，大于1：表示放大倍率                                                                                            |
| titleBackgroundColor | String   | 特效标签文本背景颜色，可选值，默认灰色                                                                                        |
| tag                  | Anything | 用户自定标签，用户保存用户的扩展数据                                                                                          |
| coord                | Array    | 坐标点 lng,lat                                                                                                                |
| coordZ               | Number   | 高度（米）                                                                                                                    |
| visible              | Boolean  | 添加当前图层时默认显示还是隐藏                                                                                                |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

#### type 枚举值

<video id="spotSrc" class='zoom' src="./contents/mediaFiles/video/spot/Spot-Radar-01.mp4"  autoplay loop></video>

<div class="video-wrap ">
  <ul class="video-cont spot-width" >
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Radar-01.mp4',0)">
      <video src="./contents/mediaFiles/video/spot/Spot-Radar-01.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Radar01.png'></video>
      <strong>Radar01</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Revolve-01.mp4',1)">
      <video src="./contents/mediaFiles/video/spot/Spot-Revolve-01.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Revolve01.png'></video>
      <strong>Revolve01</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Revolve-02.mp4',2)">
      <video src="./contents/mediaFiles/video/spot/Spot-Revolve-02.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Revolve02.png'></video>
      <strong>Revolve02</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Revolve-03.mp4',3)">
      <video src="./contents/mediaFiles/video/spot/Spot-Revolve-03.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Revolve03.png'></video>
      <strong>Revolve03</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Revolve-04.mp4',4)">
      <video src="./contents/mediaFiles/video/spot/Spot-Revolve-04.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Revolve04.png'></video>
      <strong>Revolve04</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-01.mp4',5)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-01.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread01.png'></video>
      <strong>Spread01</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-02.mp4',6)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-02.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread02.png'></video>
      <strong>Spread02</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-03.mp4',7)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-03.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread03.png'></video>
      <strong>Spread03</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-04.mp4',8)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-04.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread04.png'></video>
      <strong>Spread04</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-05.mp4',9)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-05.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread05.png'></video>
      <strong>Spread05</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-06.mp4',10)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-06.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread06.png'></video>
      <strong>Spread06</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-07.mp4',11)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-07.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread07.png'></video>
      <strong>Spread07</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-08.mp4',12)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-08.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread08.png'></video>
      <strong>Spread08</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-09.mp4',13)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-09.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Spread09.png'></video>
      <strong>Spread09</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/Spot-Spread-10.mp4',14)">
      <video src="./contents/mediaFiles/video/spot/Spot-Spread-10.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Square01.png'></video>
      <strong>Square01</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/VFX-Explosion-01.mp4',15)">
      <video src="./contents/mediaFiles/video/spot/VFX-Explosion-01.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Explosion01.png'></video>
      <strong>Explosion</strong>
    </li>
    <li class="video-item" onclick="switchPath('spotSrc','spot-width','./contents/mediaFiles/video/spot/VFX-Flame-01.mp4',16)">
      <video src="./contents/mediaFiles/video/spot/VFX-Flame-01.mp4" preload='none' preload='none' poster='./contents/mediaFiles/images/special/Flame01.png'></video>
      <strong>Flame</strong>
    </li>
  </ul>
</div>

[返回本章目录](#目录)

## 2.更新特效数据

### 功能描述

更新三维场景中添加特效的数据

### 调用方法

```js
let jsonData = {
  id: '3DMarker',
  coordType: 0,
  coordTypeZ: 0,
  coord: [113.92104945588623, 22.511068539824436], //以深圳湾经纬度为例
  coordZ: 150,
  tag: 'custominfo',
};

appInstance.uniCall('update3DMarkerCoord', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性       | 类型     | 说明                                                                                                                          |
| ---------- | -------- | ----------------------------------------------------------------------------------------------------------------------------- |
| id         | String   | 模型特效 ID(唯一标识)                                                                                                         |
| coordType  | Number   | xy 轴坐标模式 坐标类型(0:x 经度 y 纬度；1:x 米 y 米，相对世界 00 点) 目前该属性仅支持属性值为 0                               |
| coordTypeZ | Number   | z 轴坐标模式 坐标高度类型，单位：米(0:相对 3D 世界 0 海拔；1:相对 3D 世界地表；2:相对 3D 模型表面) 目前该属性仅支持属性值为 0 |
| tag        | Anything | 用户自定标签，用户保存用户的扩展数据                                                                                          |
| coord      | Array    | 坐标点 lng,lat                                                                                                                |
| coordZ     | Number   | 高度（米）                                                                                                                    |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 3.更新特效样式

### 功能描述

更新三维场景中添加特效的样式

### 调用方法

```js
let jsonData = {
  id: '3DMarker',
  alpha: 1,
  scale: 60,
  type: 'Spread01',
  titleText: '更新特效',
  titleColor: '#ffffff',
  titleScale: 1,
  titleBackgroundColor: '#333333',
};

appInstance.uniCall('update3DMarkerStyle', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性                 | 类型   | 说明                                      |
| -------------------- | ------ | ----------------------------------------- |
| id                   | String | 模型特效 ID(唯一标识)                     |
| alpha                | Number | 透明度                                    |
| scale                | Number | 半径(单位:米)                             |
| type                 | String | 样式类型 （具体类型参考上图 type 枚举值） |
| titleText            | String | 文本标签内容，billboard                   |
| titleColor           | String | 特效标签文本颜色，可选值，默认白色        |
| titleScale           | Number | 特效标签文本大小，默认值是1表示原大，0 - 1：表示缩小倍率，大于1：表示放大倍率        |
| titleBackgroundColor | String | 特效标签文本背景颜色，可选值，默认灰色    |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 4.删除特效

### 功能描述

删除特效

### 调用方法

```js
let jsonData = {
  id: '3DMarker', 
  overlayType: '3DMarker', 
};

appInstance.uniCall('removeOverlay', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性        | 类型   | 说明                                                                |
| ----------- | ------ | ------------------------------------------------------------------- |
| id          | String | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |
| overlayType | String | 图层对象类别                                                        |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)