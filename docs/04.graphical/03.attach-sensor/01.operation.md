# 附加操作

## 目录

- [1.附加传感器到模型](#1附加传感器到模型-流)
- [2.取消附加](#2取消附加-流)

## 1.附加传感器到模型 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

在三维场景中附加传感器到模型

### 调用方法

```js
let jsonData = {   
  id: 'pyramidSensor',
  hostId: '11_SM_Residence_3',	
  hostNodeId: 'nodeId',
  hostLayerId: 'LayerId',	
  offset: [10, 10, 2],
};

appInstance.uniCall('attachSensorToModel', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型     | 说明                                                                                                                                      
| ---------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------- 
| id               | String   | 附加的传感器对象id                                                                         
| hostId           | String   | 被附加的载体模型对象id，模型对象、模型轨迹图对象                                                                         
| hostNodeId       | String   | 被附加的载体模型对象子节点id                                             
| hostLayerId      | String   | 被附加的载体模型所属的图层Id，Id可以通过getModelsByType接口获得。如果这个为空，会在场景世界中查找并且设置第一个对应Id和Ids的对象，如果不为空，只会查找指定layerId图层内的匹配Id和Ids的模型对象                                                                                                               
| offset           | Array    | 被附加位置和载体模型中心点（如果有NodeId，则是Node的中心点）的偏移量距离XYZ（单位：米）     

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)


## 2.取消附加 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

删除三维场景中的四棱锥体

### 调用方法

```js
let jsonData = {   
  id: 'pyramidSensor',
};

appInstance.uniCall('detachSensor', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性         | 类型   | 说明                                                                                                                                      
| ------------ | ------ | ----------------------------------------------------------------------------------------------------------------------------------------- 
| id           | String | 取消附加的传感器对象id，位置复位到sensor的coord和coordZ                                                                                  

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)