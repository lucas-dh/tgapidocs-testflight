# 路径操作

## 目录

- [1.添加测量路径](#1添加测量路径-流)
- [2.更新测量路径数据](#2更新测量路径数据-流)
- [3.更新测量路径样式](#3更新测量路径样式-流)
- [4.删除测量路径](#4删除测量路径-流)

## 1.添加测量路径 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

在三维场景中添加测量路径

### 调用方法

```js
let jsonData = {
  id: 'measurepath',
  name: 'layerName',
  coordType: 0,
  coordTypeZ: 0,
  measureType: 'Ground',
  opacity: 0.5,
  color: '#ff0000',
  width: 10,
  type: 'Arrow01',
  tag: 'custominfo',
  visible: true,
  points: [
    {
      coord: [-100.00695394950598, 46.6885479651301],
      coordZ: 0,
    },
    {
      coord: [-99.96695394950599, 45.6885479651301],
      coordZ: 0,
    },
  ],
};

appInstance.uniCall('addMeasurePath', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型     | 说明                                                                                                                  |
| ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------- |
| id               | String   | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                   |
| name             | String   | 图层名称，支持为图层自定义名称                                                                                        |
| coordType        | Number   | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点 目前该属性仅支持属性值为 0                            |
| coordTypeZ       | Number   | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） 目前该属性仅支持属性值为 0 |
| measureType      | String   | 测量的类别，可选值：Ground（贴地线）、3D（空间线），默认是：Ground                                                    |
| opacity          | Number   | 透明度                                                                                                                |
| color            | String   | 路线颜色，"" 颜色透明（HEX 颜色值）                                                                                   |
| width            | Number   | 路径宽度（单位：米）                                                                                                  |
| type             | String   | 路径样式类别，只有空间线支持，贴地线不支持                                                                            |
| tag              | Anything | 用户自定标签，用户保存用户的扩展数据                                                                                  |
| visible          | Boolean  | 添加当前图层时默认显示还是隐藏                                                                                        |
| points           | Array    | 定义路径途径点                                                                                                        |
| points[0].coord  | Array    | XY 轴坐标，X：经度；Y：纬度                                                                                           |
| points[0].coordZ | Number   | Z 轴高度（单位：米）                                                                                                  |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "distance": [10, 23, 8]
}
```

#### 回调数据参数描述

| 属性     | 类型   | 说明                                   |
| -------- | ------ | -------------------------------------- |
| result   | Number | 1：代表成功；0：代表失败               |
| message  | String | 成功或者失败原因                       |
| distance | Array  | 距离值，单位是米，返回每两个点的距离值 |

## 2.更新测量路径数据 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

更新三维场景中添加测量路径的数据

### 调用方法

```js
let jsonData = {
  id: 'measurepath',
  name: 'layerName',
  coordType: 0,
  coordTypeZ: 0,
  isAppend: true,
  tag: 'custominfo',
  points: [
    {
      coord: [-130.580406949506, 13.509376965130105],
      coordZ: 0,
    },
    {
      coord: [-130.58197794950598, 13.508064965130103],
      coordZ: 0,
    },
    {
      coord: [-130.582244949506, 13.507261965130105],
      coordZ: 0,
    },
  ],
};

appInstance.uniCall('updateMeasurePathCoord', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型     | 说明                                                                                                                  |
| ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------- |
| id               | String   | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                   |
| name             | String   | 图层名称，支持为图层自定义名称                                                                                        |
| coordType        | Number   | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点 目前该属性仅支持属性值为 0                            |
| coordTypeZ       | Number   | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） 目前该属性仅支持属性值为 0 |
| isAppend         | Boolean  | 是否追加数据（按数据顺序），true：在原有数据后方追加数据；false：清除原有数据，更新数据                               |
| tag              | Anything | 用户自定标签，用户保存用户的扩展数据                                                                                  |
| points           | Array    | 定义路径途径点                                                                                                        |
| points[0].coord  | Array    | XY 轴坐标，X：经度；Y：纬度                                                                                           |
| points[0].coordZ | Number   | Z 轴高度（单位：米）                                                                                                  |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "distance": [10, 23, 8]
}
```

#### 回调数据参数描述

| 属性     | 类型   | 说明                                   |
| -------- | ------ | -------------------------------------- |
| result   | Number | 1：代表成功；0：代表失败               |
| message  | String | 成功或者失败原因                       |
| distance | Array  | 距离值，单位是米，返回每两个点的距离值 |

[返回本章目录](#目录)

## 3.更新测量路径样式 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

更新三维场景中添加测量路径的样式

### 调用方法

```js
let jsonData = {
  id: 'measurepath',
  measureType: 'Ground',
  opacity: 0.5,
  color: '#ff0000',
  width: 10,
  type: 'Arrow01',
};

appInstance.uniCall('updateMeasurePathStyle', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性        | 类型   | 说明                                                                |
| ----------- | ------ | ------------------------------------------------------------------- |
| id          | String | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |
| measureType | String | 测量的类别，可选值：Ground（贴地线）、3D（空间线），默认是：Ground  |
| opacity     | Number | 透明度                                                              |
| color       | String | 路线颜色，"" 颜色透明（HEX 颜色值）                                 |
| width       | Number | 路径宽度（单位：米）                                                |
| type        | String | 路径样式类别，只有空间线支持，贴地线不支持                          |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "distance": [10, 23, 8]
}
```

#### 回调数据参数描述

| 属性     | 类型   | 说明                                   |
| -------- | ------ | -------------------------------------- |
| result   | Number | 1：代表成功；0：代表失败               |
| message  | String | 成功或者失败原因                       |
| distance | Array  | 距离值，单位是米，返回每两个点的距离值 |

[返回本章目录](#目录)

## 4.删除测量路径 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

删除测量路径

### 调用方法

```js
let jsonData = {
  id: 'measurepath',
};

appInstance.uniCall('removeModel', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性 | 类型   | 说明                                                                |
| ---- | ------ | ------------------------------------------------------------------- |
| id   | String | 模型对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

##### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |
