# 淹没分析操作

## 目录

- [1.添加淹没分析](#1添加淹没分析-流)
- [2.更新淹没分析](#2更新淹没分析-流)
- [3.更新淹没分析样式](#3更新淹没分析样式-流)
- [4.删除淹没分析](#4删除淹没分析-流)

## 1.添加淹没分析 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

在三维场景中添加淹没分析

### 调用方法

```js
let jsonData = {
  id: 'floodarea',
  areaId: 'areaId',
  coordTypeZ: 0,
  coordZ: 150,
  type: 'water',
  texture: 'surfaceimage.png',
  textureSpeed: 0,
  textureDirection: 35,
  waterAlpha: 0.9,
  color: '#ff0000',
  colorAlpha: 0.5,
};

appInstance.uniCall('addFloodArea', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型   | 说明                                                                                                                                                                            |
| ---------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id               | String | 对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                                                                                 |
| areaId           | String | 分析对应的区域，添加分析完成后，原 Area 对象可以删除或者隐藏                                                                                                                    |
| coordTypeZ       | Number | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米）                                                                                      |
| coordZ           | Number | Z 轴高度（单位：米）                                                                                                                                                            |
| type             | String | 材质类型，"water": 水材质, "texture": 贴图，"onlyColor": 只有颜色填充，"waterAndColor"：水和颜色，"textureAndColor"：贴图和颜色                                                 |
| texture          | String | 贴图名称，只有当 type 为 texture 的类型，使用这个图片做为网格体表面的贴图。端渲染：在场景中预置好的图片名称或外部图片 url，流渲染：服务器应用目录里的资源图片或者外部图片 url。 |
| textureSpeed     | Number | water 或者材质动画速度，默认：0，0 为不运动。（单位：米/秒）负数为反方向                                                                                                        |
| textureDirection | Number | water 或者材质动画方向，单位：角度，0 正北, -360~360                                                                                                                            |
| waterAlpha       | Number | water 的透明度                                                                                                                                                                  |
| color            | String | color 的颜色（HEX 颜色值）                                                                                                                                                      |
| colorAlpha       | Number | clor 的透明度，0：完全透明；1：完全不透明                                                                                                                                       |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 2.更新淹没分析 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

更新三维场景中添加淹没分析的数据

### 调用方法

```js
let jsonData = {
  id: 'floodarea',
  areaId: 'areaId',
  coordTypeZ: 0,
  coordZ: 150,
};

appInstance.uniCall('updateFloodArea', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性       | 类型   | 说明                                                                                       |
| ---------- | ------ | ------------------------------------------------------------------------------------------ |
| id         | String | 对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                            |
| areaId     | String | 淹没分析对应的区域，添加分析完成后，原 Area 对象可以删除或者隐藏                           |
| coordTypeZ | Number | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） |
| coordZ     | Number | Z 轴高度（单位：米）                                                                       |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 3.更新淹没分析样式 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

更新三维场景中添加淹没分析的样式

### 调用方法

```js
let jsonData = {
  id: 'floodarea',
  type: 'water',
  texture: 'surfaceimage.png', 
  textureSpeed: 0, 
  textureDirection: 35, 
  waterAlpha: 0.9, 
  color: '#ff0000', 
  colorAlpha: 0.5,
};

appInstance.uniCall('updateFloodAreaStyle', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型   | 说明                                                                                                                                                                            |
| ---------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id               | String | 对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                                                                                 |
| type             | String | 材质类型，"water": 水材质, "texture": 贴图，"onlyColor": 只有颜色填充，"waterAndColor"：水和颜色，"textureAndColor"：贴图和颜色                                                 |
| texture          | String | 贴图名称，只有当 type 为 texture 的类型，使用这个图片做为网格体表面的贴图。端渲染：在场景中预置好的图片名称或外部图片 url，流渲染：服务器应用目录里的资源图片或者外部图片 url。 |
| textureSpeed     | Number | water 或者材质动画速度，默认：0，0 为不运动。（单位：米/秒）负数为反方向                                                                                                        |
| textureDirection | Number | water 或者材质动画方向，单位：角度，0 正北, -360~360                                                                                                                            |
| waterAlpha       | Number | water 的透明度                                                                                                                                                                  |
| color            | String | color 的颜色（HEX 颜色值）                                                                                                                                                      |
| colorAlpha       | Number | clor 的透明度，0：完全透明；1：完全不透明                                                                                                                                       |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 4.删除淹没分析 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

删除三维场景中的淹没分析

### 调用方法

```js
let jsonData = {
  id: 'floodarea',
};

appInstance.uniCall('removeModel', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性 | 类型   | 说明                                        |
| ---- | ------ | ------------------------------------------- |
| id   | String | 图层对象 id，更新时调用者自己传入的唯一标识 |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)
