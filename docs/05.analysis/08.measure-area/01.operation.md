# 区域操作

## 目录

- [1.添加测量区域](#1添加测量区域-流)
- [2.更新测量区域数据](#2更新测量区域数据-流)
- [3.更新测量区域样式](#3更新测量区域样式-流)
- [4.删除测量区域](#4删除测量区域-流)

## 1.添加测量区域 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

在三维场景中添加测量区域

### 调用方法

```js
let jsonData = {
  id: 'measurearea',
  name: 'layerName',
  coordType: 0,
  coordTypeZ: 0,
  measureType: 'Ground',
  alpha: 0.5,
  color: '#ff0000',
  outlineColor: '#ff0000',
  type: 'Segment03',
  areaHeight: 10,
  fillArea: 'none',
  fillPosition: 'top',
  tag: 'custominfo',
  visible: true,
  points: [
    {
      coord: [-130.580406949506, 13.509376965130105],
      coordZ: 0,
    },
    {
      coord: [-130.58197794950598, 13.508064965130103],
      coordZ: 0,
    },
    {
      coord: [-130.582244949506, 13.507261965130105],
      coordZ: 0,
    },
  ],
};

appInstance.uniCall('addMeasureArea', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型     | 说明                                                                                                                  |
| ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------- |
| id               | String   | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                   |
| name             | String   | 图层名称，支持为图层自定义名称                                                                                        |
| coordType        | Number   | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点 目前该属性仅支持属性值为 0                            |
| coordTypeZ       | Number   | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） 目前该属性仅支持属性值为 0 |
| measureType      | String   | 测量的类别，可选值：Ground（贴地面积）、Horizontal（水平面积），默认是：Ground                                        |
| alpha            | Number   | 透明度，0：完全透明；1：完全不透明，默认值 1                                                                          |
| color            | String   | 颜色（HEX 颜色值）                                                                                                    |
| outlineColor     | String   | 边线颜色（HEX 颜色值），只有贴地面积可用                                                                              |
| type             | String   | 区域边界样式类别，只有水平面积可用                                                                                    |
| areaHeight       | Number   | 围栏高度（单位：米），只有水平面积可用                                                                                |
| fillArea         | String   | 区域填充样式类别，只有水平面积可用                                                                                    |
| fillPosition     | String   | 区域填充的位置，top/bottom，默认 top，只有水平面积可用                                                                |
| tag              | Anything | 用户自定标签，用户保存用户的扩展数据                                                                                  |
| visible          | Boolean  | 添加当前图层时默认显示还是隐藏                                                                                        |
| points           | Array    | 定义区域边界                                                                                                          |
| points[0].coord  | Array    | XY 轴坐标，X：经度；Y：纬度                                                                                           |
| points[0].coordZ | Number   | Z 轴高度（单位：米），水平面积时，使用第一个点的高度                                                                  |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "area": 123456
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |
| area    | Number | 面积值，单位是平方米     |

## 2.更新测量区域数据 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

更新三维场景中添加测量区域的数据

### 调用方法

```js
let jsonData = {
  id: 'measurepath',
  name: 'layerName',
  coordType: 0,
  coordTypeZ: 0,
  tag: 'custominfo',
  points: [
    {
      coord: [-130.580406949506, 13.509376965130105],
      coordZ: 0,
    },
    {
      coord: [-130.58197794950598, 13.508064965130103],
      coordZ: 0,
    },
    {
      coord: [-130.582244949506, 13.507261965130105],
      coordZ: 0,
    },
  ],
};

appInstance.uniCall('updateMeasureAreaCoord', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性             | 类型     | 说明                                                                                                                  |
| ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------- |
| id               | String   | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                   |
| name             | String   | 图层名称，支持为图层自定义名称                                                                                        |
| coordType        | Number   | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点 目前该属性仅支持属性值为 0                            |
| coordTypeZ       | Number   | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） 目前该属性仅支持属性值为 0 |
| tag              | Anything | 用户自定标签，用户保存用户的扩展数据                                                                                  |
| points           | Array    | 定义区域边界                                                                                                          |
| points[0].coord  | Array    | XY 轴坐标，X：经度；Y：纬度                                                                                           |
| points[0].coordZ | Number   | Z 轴高度（单位：米），水平面积时，使用第一个点的高度                                                                  |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "area": 123456
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |
| area    | Number | 面积值，单位是平方米     |

[返回本章目录](#目录)

## 3.更新测量区域样式 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

更新三维场景中添加测量区域的样式

### 调用方法

```js
let jsonData = {
  id: 'measurearea',
  measureType: 'Ground',
  alpha: 0.5,
  color: '#ff0000',
  outlineColor: '#ff0000',
  type: 'Segment02',
  areaHeight: 10,
  fillArea: 'none',
  fillPosition: 'top',
};

appInstance.uniCall('updateMeasureAreaStyle', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性         | 类型   | 说明                                                                           |
| ------------ | ------ | ------------------------------------------------------------------------------ |
| id           | String | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别            |
| measureType  | String | 测量的类别，可选值：Ground（贴地面积）、Horizontal（水平面积），默认是：Ground |
| alpha        | String | 透明度，0：完全透明；1：完全不透明                                             |
| color        | String | 颜色（HEX 颜色值）                                                             |
| outlineColor | String | 边线颜色（HEX 颜色值），只有贴地面积可用                                       |
| type         | String | 区域边界样式类别，只有水平面积可用                                             |
| areaHeight   | Number | 围栏高度（单位：米），只有水平面积可用                                         |
| fillArea     | String | 区域填充样式类别，只有水平面积可用                                             |
| fillPosition | String | 区域填充的位置，只有水平面积可用                                               |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。",
  "area": 123456
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |
| area    | Number | 面积值，单位是平方米     |

[返回本章目录](#目录)

## 4.删除测量区域 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述

删除测量区域

### 调用方法

```js
let jsonData = {
  id: 'measurearea',
};

appInstance.uniCall('removeModel', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性 | 类型   | 说明                                                                |
| ---- | ------ | ------------------------------------------------------------------- |
| id   | String | 模型对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |
