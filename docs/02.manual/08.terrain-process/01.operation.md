# 地形处理操作

## 目录

- [1.添加地形处理区域](#1添加地形处理区域-流)
- [2.更新地形处理区域](#2更新地形处理区域-流)
- [3.移除地形处理区域](#3移除地形处理区域-流)

## 1.添加地形处理区域 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述:

添加地形处理区域

### 调用方法:

```js
let jsonData = {   
    id: "idObj",
    terrainType: "3dtile",
    terrainId: "3dtileId"，
    areaId: "areaId",
    processType: "flatten"
    flattenFeather: 10
}

appInstance.uniCall('addTerrainProcess', jsonData, (result) => {
  console.log(result);
});
```

##### 参数描述：

| 属性         | 类型    | 说明                                                                |
| ------------ | ------- | ------------------------------------------------------------------- |
| id           | String  | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |
| terrainType         | String  | 需要处理的地形类型，"3dtile"：通过add3DTile添加的倾斜摄影，"GISMap“，通过addGISMap添加的GIS地图                                      |
| terrainId       | String  | add3DTile添加的倾斜摄影或者通过addGISMap添加的GIS地图时传入的id                                            |
| areaId      | String  | 需要处理的区域范围，需要之前通过addArea添加一个区域对象，这里填入区域的Id。此指令执行完成后，原area对象可以删除或者更新，并不影响之前已经处理的范围。                           |
| processType     | String  | 地形处理的类型，"dig"：挖洞，"flatten"：压平                                                            |
| flattenFeather     | Number  | 压平的羽化范围，可以让压平的边缘看起来更加自然（单位：米）                                                            |

##### 回调数据：

```json
{
  "result": 1,
  "message": "成功。"
}
```

##### 回调数据参数描述：

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 2.更新地形处理区域 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述:

更新地形处理区域

### 调用方法:

```js
let jsonData = {  
    id: "idObj",
    areaId: "areaId",
    processType: "flatten"
    flattenFeather: 10
}

appInstance.uniCall('updateTerrainProcess', jsonData, (result) => {
  console.log(result);
});
```

##### 参数描述：

| 属性         | 类型   | 说明                                                                |
| ------------ | ------ | ------------------------------------------------------------------- |
| id           | String | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |
| areaId      | String  | 需要处理的区域范围，需要之前通过addArea添加一个区域对象，这里填入区域的Id。此指令执行完成后，原area对象可以删除或者更新，并不影响之前已经处理的范围。                           |
| processType     | String  | 地形处理的类型，"dig"：挖洞，"flatten"：压平                                                            |
| flattenFeather     | Number  | 压平的羽化范围，可以让压平的边缘看起来更加自然（单位：米）                                                            |

##### 回调数据：

```json
{
  "result": 1,
  "message": "成功。"
}
```

##### 回调数据参数描述：

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 3.移除地形处理区域 <span style="width: 40px;height: 21px;display:inline-block;background: #0fcccc;margin-left: 5px;line-height: 19px;"><span style="width: 100%;height: 100%;background: url(./img/stream.png) no-repeat 4px 5px;background-size: 12px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 20px;display:inline-block;vertical-align: top;">流</span></span>

### 功能描述:

移除地形处理区域

### 调用方法:

```js
let jsonData = {   
  id: "idObj",
}

appInstance.uniCall('removeTerrainProcess', jsonData, (result) => {
  console.log(result);
});
```

##### 参数描述：

| 属性    | 类型    | 说明                                                                |
| ------- | ------- | ------------------------------------------------------------------- |
| id      | String  | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |

##### 回调数据：

```json
{
  "result": 1,
  "message": "成功。"
}
```

##### 回调数据参数描述：

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)