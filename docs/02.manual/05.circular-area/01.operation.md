# 圆形区域操作

## 目录

- [1.添加圆形区域](#1添加圆形区域)
- [2.更新圆形区域数据](#2更新圆形区域数据)
- [3.更新圆形区域样式](#3更新圆形区域样式)
- [4.删除圆形区域](#4删除圆形区域)

## 1.添加圆形区域

### 功能描述

在三维场景中添加圆形区域

### 调用方法

```js
let jsonData = {
  id: 'circleArea',
  name: '圆形区域轮廓',
  coordType: 0,
  coordTypeZ: 0,
  coordZ: 64,
  type: 'Segment01',
  color: '#ff0000',
  alpha: 0.5,
  visible: true,
  areaHeight: 220,
  fillArea: 'Gradient01',
  fillPosition: 'top',
  tags: ['tag1', 'tag2', 'tag3'],
  center: [113.934333794405, 22.510299996820102], //以深圳湾经纬度为例
  radius: 220,
};

appInstance.uniCall('addCircularArea', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性         | 类型     | 说明                                                                                                                  | 端渲染 | 流渲染 |
| ------------ | -------- | --------------------------------------------------------------------------------------------------------------------- | ------ | ------ |
| id           | String   | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                   | 支持   | 支持   |
| name         | String   | 图层名称，支持为图层自定义名称                                                                                        | 支持   | 支持   |
| coordType    | Number   | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点 目前该属性仅支持属性值为 0                            | 支持   | 支持   |
| coordTypeZ   | Number   | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） 目前该属性仅支持属性值为 0 | 支持   | 支持   |
| coordZ       | Number   | 高度(单位:米)                                                                                                         | 支持   | 支持   |
| type         | String   | 区域边界样式类别 （具体类型参考下图 type 枚举值，端渲染暂不支持 Gradient01）                                          | 支持   | 支持   |
| color        | String   | 轮廓颜色(HEX 颜色值)                                                                                                  | 支持   | 支持   |
| alpha        | String   | 透明度，0：完全透明；1：完全不透明，默认值 1                                                                          | 支持   | 支持   |
| visible      | Boolean  | 添加当前图层时默认显示还是隐藏                                                                                        | 支持   | 支持   |
| areaHeight   | Number   | 围栏高度(单位:米)                                                                                                     | 支持   | 支持   |
| fillArea     | String   | 区域填充样式类别 （具体类型参考下图 fillArea 枚举值）                                                                 | 支持   | 支持   |
| fillPosition | Booleans | 区域填充的位置，top/bottom，默认 top                                                                                  | 支持   | 支持   |
| tags         | Anything | 用户自定标签数组，用于保存用户的扩展数据，或者可以控制显隐                                                            | 不支持 | 支持   |
| center       | Array    | 圆心 XY 轴坐标，X：经度；Y：纬度                                                                                      | 支持   | 支持   |
| radius       | Number   | 半径(单位:米)                                                                                                         | 支持   | 支持   |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

### type 枚举值

<video id="circularSrc" class='zoom' src="./contents/mediaFiles/video/border/Border-Arrow-01.mp4"  autoplay loop></video>

<div class="video-wrap ">
  <ul class="video-cont circular-width" >
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Arrow-01.mp4',0)">
      <video src="./contents/mediaFiles/video/border/Border-Arrow-01.mp4" preload='none' poster='./contents/mediaFiles/images/area/Arrow01.png'></video>
      <strong>Arrow01</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Gradient-01.mp4',1)">
      <video src="./contents/mediaFiles/video/border/Border-Gradient-01.mp4" preload='none' poster='./contents/mediaFiles/images/area/Gradient01.png'></video>
      <strong>Gradient01</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Gradient-02.mp4',2)">
      <video src="./contents/mediaFiles/video/border/Border-Gradient-02.mp4" preload='none' poster='./contents/mediaFiles/images/area/Gradient02.png'></video>
      <strong>Gradient02</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Gradient-03.mp4',3)">
      <video src="./contents/mediaFiles/video/border/Border-Gradient-03.mp4" preload='none' poster='./contents/mediaFiles/images/area/Gradient03.png'></video>
      <strong>Gradient03</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Grid-01.mp4',4)">
      <video src="./contents/mediaFiles/video/border/Border-Grid-01.mp4" preload='none' poster='./contents/mediaFiles/images/area/Grid01.png'></video>
      <strong>Grid01</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Grid-02.mp4',5)">
      <video src="./contents/mediaFiles/video/border/Border-Grid-02.mp4" preload='none' poster='./contents/mediaFiles/images/area/Grid02.png'></video>
      <strong>Grid02</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Grid-03.mp4',6)">
      <video src="./contents/mediaFiles/video/border/Border-Grid-03.mp4" preload='none' poster='./contents/mediaFiles/images/area/Grid03.png'></video>
      <strong>Grid03</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Grid-04.mp4',7)">
      <video src="./contents/mediaFiles/video/border/Border-Grid-04.mp4" preload='none' poster='./contents/mediaFiles/images/area/Grid04.png'></video>
      <strong>Grid04</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Grid-05.mp4',8)">
      <video src="./contents/mediaFiles/video/border/Border-Grid-05.mp4" preload='none' poster='./contents/mediaFiles/images/area/Grid05.png'></video>
      <strong>Grid05</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Segment-01.mp4',9)">
      <video src="./contents/mediaFiles/video/border/Border-Segment-01.mp4" preload='none' poster='./contents/mediaFiles/images/area/Segment01.png'></video>
      <strong>Segment01</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Segment-02.mp4',10)">
      <video src="./contents/mediaFiles/video/border/Border-Segment-02.mp4" preload='none' poster='./contents/mediaFiles/images/area/Segment02.png'></video>
      <strong>Segment02</strong>
    </li>
    <li class="video-item" onclick="switchPath('circularSrc','circular-width','./contents/mediaFiles/video/border/Border-Segment-03.mp4',11)">
      <video src="./contents/mediaFiles/video/border/Border-Segment-03.mp4" preload='none' poster='./contents/mediaFiles/images/area/Segment03.png'></video>
      <strong>Segment03</strong>
    </li>
  </ul>
</div>

### fillArea 枚举值

<video id="areaSrc" class='zoom' src="./contents/mediaFiles/video/plane/Plane-Gradient-01.mp4"  autoplay loop></video>

<div class="video-wrap ">
  <ul class="video-cont area-width" >
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Plane-Gradient-01.mp4',0)">
      <video src="./contents/mediaFiles/video/plane/Plane-Gradient-01.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Gradient01.png'></video>
      <strong>Gradient01</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Plane-Gradient-02.mp4',1)">
      <video src="./contents/mediaFiles/video/plane/Plane-Gradient-02.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Gradient02.png'></video>
      <strong>Gradient02</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Plane-Grid-01.mp4',2)">
      <video src="./contents/mediaFiles/video/plane/Plane-Grid-01.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Grid01.png'></video>
      <strong>Grid01</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Plane-Grid-02.mp4',3)">
      <video src="./contents/mediaFiles/video/plane/Plane-Grid-02.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Grid02.png'></video>
      <strong>Grid02</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Plane-Segment-01.mp4',4)">
      <video src="./contents/mediaFiles/video/plane/Plane-Segment-01.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Segment01.png'></video>
      <strong>Segment01</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Plane-Segment-02.mp4',5)">
      <video src="./contents/mediaFiles/video/plane/Plane-Segment-02.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Segment02.png'></video>
      <strong>Segment02</strong>
    </li>
        <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Solid01.mp4',6)">
      <video src="./contents/mediaFiles/video/plane/Solid01.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Solid01.png'></video>
      <strong>Solid01</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Solid02.mp4',7)">
      <video src="./contents/mediaFiles/video/plane/Solid02.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Solid02.png'></video>
      <strong>Solid02</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Solid03.mp4',8)">
      <video src="./contents/mediaFiles/video/plane/Solid03.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Solid03.png'></video>
      <strong>Solid03</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Solid04.mp4',9)">
      <video src="./contents/mediaFiles/video/plane/Solid04.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Solid04.png'></video>
      <strong>Solid04</strong>
    </li>
    <li class="video-item" onclick="switchPath('areaSrc','area-width','./contents/mediaFiles/video/plane/Solid05.mp4',10)">
      <video src="./contents/mediaFiles/video/plane/Solid05.mp4" preload='none' poster='./contents/mediaFiles/images/roundArea/Solid05.png'></video>
      <strong>Solid05</strong>
    </li>
  </ul>
</div>

[返回本章目录](#目录)

## 2.更新圆形区域数据

### 功能描述

更新三维场景中添加圆形区域的数据

### 调用方法

```js
let jsonData = {
  id: 'circleArea',
  name: '圆形区域轮廓',
  coordType: 0,
  coordTypeZ: 0,
  coordZ: 64,
  tags: ['tag1', 'tag2', 'tag3'],
  center: [113.938446839166, 22.5086266504296], //以深圳湾经纬度为例
  radius: 600,
};

appInstance.uniCall('updateCircularAreaCoord', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性       | 类型     | 说明                                                                                                                  | 端渲染 | 流渲染 |
| ---------- | -------- | --------------------------------------------------------------------------------------------------------------------- | ------ | ------ |
| id         | String   | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别                                                   | 支持   | 支持   |
| name       | String   | 图层名称，支持为图层自定义名称                                                                                        | 支持   | 支持   |
| coordType  | Number   | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点 目前该属性仅支持属性值为 0                            | 支持   | 支持   |
| coordTypeZ | Number   | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） 目前该属性仅支持属性值为 0 | 支持   | 支持   |
| coordZ     | Number   | 高度(单位:米)                                                                                                         | 支持   | 支持   |
| tags       | Anything | 用户自定标签数组，用于保存用户的扩展数据，或者可以控制显隐                                                            | 不支持 | 支持   |
| center     | Array    | 圆心 XY 轴坐标，X：经度；Y：纬度                                                                                      | 支持   | 支持   |
| radius     | Number   | 半径(单位:米)                                                                                                         | 支持   | 支持   |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 3.更新圆形区域样式

### 功能描述

更新三维场景中添加圆形区域的样式

### 调用方法

```js
let jsonData = {
  id: 'circleArea',
  type: 'Segment03',
  color: '#ffed00',
  alpha: 0.5,
  areaHeight: 200,
  fillArea: 'Segment01',
  fillPosition: 'top',
};

appInstance.uniCall('updateCircularAreaStyle', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性         | 类型    | 说明                                                                         |
| ------------ | ------- | ---------------------------------------------------------------------------- |
| id           | String  | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别          |
| type         | String  | 区域边界样式类别 （具体类型参考上图 type 枚举值，端渲染暂不支持 Gradient01） |
| color        | String  | 轮廓颜色(HEX 颜色值)                                                         |
| alpha        | String  | 透明度，0：完全透明；1：完全不透明                                           |
| areaHeight   | Number  | 围栏高度(单位:米)                                                            |
| fillArea     | String  | 区域填充样式类别 （具体类型参考上图 fillArea 枚举值）                        |
| fillPosition | Boolean | 区域填充的位置，top/bottom，默认 top                                         |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

[返回本章目录](#目录)

## 4.删除圆形区域

### 功能描述

删除圆形区域

### 调用方法

```js
let jsonData = {
  id: 'circleArea',
  overlayType: 'circularArea',
};

appInstance.uniCall('removeOverlay', jsonData, (result) => {
  console.log(result);
});
```

#### 参数描述

| 属性        | 类型   | 说明                                                                |
| ----------- | ------ | ------------------------------------------------------------------- |
| id          | String | 图层对象 id，新建时调用者自己传入的唯一标识，用于各种操作的对象识别 |
| overlayType | String | 图层对象类别                                                        |

#### 回调数据

```json
{
  "result": 1,
  "message": "成功。"
}
```

#### 回调数据参数描述

| 属性    | 类型   | 说明                     |
| ------- | ------ | ------------------------ |
| result  | Number | 1：代表成功；0：代表失败 |
| message | String | 成功或者失败原因         |

### 流渲染效果图

<img src="./contents/mediaFiles/images/overlay/circularArea-streaming.png" width = "544" height="405" alt="系统架构图" />

### 端渲染效果图

<img src="./contents/mediaFiles/images/overlay/circularArea.png" width = "544" height="405" alt="系统架构图" />

[返回本章目录](#目录)
