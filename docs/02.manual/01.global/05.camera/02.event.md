# 镜头控制事件

## 目录

- [1.开始镜头漫游](#1开始镜头漫游)
- [2.结束镜头漫游](#2结束镜头漫游)
- [3.开始镜头路径移动](#3开始镜头路径移动)
- [4.结束镜头路径移动](#4结束镜头路径移动)
- [5.开始环绕旋转镜头](#5开始环绕旋转镜头)
- [6.结束环绕旋转镜头](#6结束环绕旋转镜头)
- [7.开始设置镜头视界](#7开始设置镜头视界)
- [8.结束设置镜头视界](#8结束设置镜头视界)
- [9.同步镜头当前视角](#9同步镜头当前视角)
- [10.镜头状态改变事件](#10镜头状态改变事件-端)

## 1.开始镜头漫游

### 功能描述

开始镜头漫游

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraRoamingStart',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 2.结束镜头漫游

### 功能描述

结束镜头漫游

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraRoamingEnd',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 3.开始镜头路径移动

### 功能描述

开始镜头路径移动

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraToMoveStart',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 4.结束镜头路径移动

### 功能描述

结束镜头路径移动

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraToMoveEnd',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 5.开始环绕旋转镜头

### 功能描述

开始环绕旋转镜头

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraRotateStart',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 6.结束环绕旋转镜头

### 功能描述

结束环绕旋转镜头

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraRotateEnd',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 7.开始设置镜头视界

### 功能描述

开始设置镜头视界

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onSetCameraStart',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 8.结束设置镜头视界

### 功能描述

结束设置镜头视界

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onSetCameraEnd',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

[返回本章目录](#目录)

## 9.同步镜头当前视角

### 功能描述

同步镜头当前视角

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onCameraMove',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

#### 回调数据

```json
{
  "coordType": 0,
  "coordTypeZ": 0,
  "centerCoord": [113.9470838, 22.5221844],
  "coordZ": -496.48,
  "distance": 2450.98,
  "pitch": 6.5,
  "heading": 294.83
}
```

#### 回调数据参数描述

| 属性        | 类型   | 说明                                                                                       |
| ----------- | ------ | ------------------------------------------------------------------------------------------ |
| coordType   | Number | XY 轴坐标类别，0：X 经度，Y 纬度；1：X 米，Y 米，相对世界 00 点                            |
| coordTypeZ  | Number | Z 轴坐标类别，0：相对 3D 世界 0 海拔；1：相对 3D 世界地表；2：相对 3D 模型表面（单位：米） |
| centerCoord | Array  | 中心点的坐标 lng,lat                                                                       |
| coordZ      | Number | Z 轴高度（单位：米）                                                                       |
| distance    | Number | 镜头距中心点距离(单位:米)                                                                  |
| pitch       | Number | 镜头俯仰角(1~89)                                                                           |
| heading     | Number | 镜头偏航角(0 正北, 0~359)                                                                  |

[返回本章目录](#目录)

## 10.镜头状态改变事件 <span style="width: 40px;height: 21px;display:inline-block;background: #1177e3;margin-left: 5px;font-size: 12px;line-height: 28px;"><span style="width: 100%;height: 100%;background: url(./img/duan.png) no-repeat 4px 5px;background-size: 11px 10px;text-indent: 22px;font-size: 12px;color: #ffffff;line-height: 21px;display:inline-block;vertical-align: top;">端</span></span>

### 功能描述

改变当前镜头状态

### 调用方法

```js
appInstance.uniCall(
  'addEventListener',
  {
    eventName: 'onFollowingCameraChanged',
    callback: function (event) {
      console.log(event);
    },
  },
  (result) => {
    console.log(result);
  }
);
```

### 回调数据

```js
{
  "relative":"self",
  "enableRotate":true
}
```

### 回调数据参数描述

| 属性         | 类型   | 说明                                                                  |
| ------------ | ------ | --------------------------------------------------------------------- |
| relative     | String | 视角的相对位置，"self"，视角相对模型固定，"world"，视角相对世界固定。 |
| enableRotate | Number | 是否开启了环绕                                                        |
